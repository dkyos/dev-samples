
def CMD_PATH='/home/dkyun77/tizen-sdk/tools'

// on linux
//def CMD="${CMD_PATH}" + '/sdb';

// on Windows
def CMD="cmd " + "${CMD_PATH}" + 'sdb';
//task runNotepad(type: Exec) {
//        description 'Demonstrate the problem independent of java'
//            commandLine 'cmd', '/c', 'cmd /c start notepad.exe'
//}

task stress1 << {
    int i = 0;
    while ( 1 ){
        println (" Iteration: " + i++);

        println (" CMD: " + '${CMD}');

        def process = ["${CMD}","shell", "ls -alh"].execute();
        //on windows:
        //commandLine 'cmd', '/c', 'stop.bat'
        process.waitFor();
        println process.exitValue();
        println process.in.text;
        println process.err.text;
        //sleep(1000);
    }
}

task stress2 << {
    int i = 0;
    while ( 1 ){
        println (" Iteration: " + i++);
        def process = ["${CMD}","shell", "pkgcmd -l"].execute();
        process.waitFor();
        println process.exitValue();
        println process.in.text;
        println process.err.text;
        //sleep(1000);
    }
}
